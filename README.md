# RTK差分共享猫

#### 介绍
RTK差分数据放大器，RTK差分数据共享神器。
支持Ntrip、TCP/IP、蓝牙数据源。
实现一个差分账号的差分数据，多台移动站共享使用，节省差分账号资源，一键启动，方便快捷。
RTK差分共享猫APP历经一年，已升级到1.3.4版本，好比一个孩子般陪我度过了漫长的失业阶段。思虑再三，计划将Rtk差分共享猫APP开源，APP全部功能开放使用！！！
主要原因如下:


-  1. 国内GNSS相关技术资源及其匮乏，相关资源基本掌握在少部分大厂手中，业内技术进步迟缓。
-  2. 作为App的创始者，我已江郎才尽，接近两月没做版本更新，App期待有缘人注入新鲜血液。
-  3. 精力有限，随着工作和生活的发展，实在没有精力顾及。


#### 软件架构
软件架构说明


#### 使用说明

 **一、	Ntrip（CORS）差分数据分享** 

实现自有差分账号数据的转发与多RTK同时使用。注意多台RTK需要在统一作业区域内作业，建议不超过30公里，具体可视现场情况而定。
 
具体操作步骤如下:

- 1、	点击设置功能菜单。
- 2、	选择数据协议为Ntrip 1.0
- 3、	输入服务器IP（原账号服务器）
- 4、	输入服务器端口（原账号服务器端口）
- 5、	输入账号用户名
- 6、	输入账号密码
- 7、	选择对应接入点（按需选择）
- 8、	选择位置上报方式，
- a)	固定位置选择后，在地图双击或者单机地图，点击确定即完成固定位置设定。
- b)	选择android本身位置，将当前手机的位置发送给基准站以获得数据。
- 9、	设置共享信息,包括共享用户名，共享密码、共享距离（超出该范围也可获得差分数据），客户端连接数限制（暂未开启）。
- 10、	点击底部地图功能标签，返回主界面，点击启动按钮，完成启动共享，系统将自动弹出共享信息。
- 11、	按照弹出的共享信息设置RTK差分数据源，连接获取差分数据。
- 12、	切换至客户端界面，查看已连接客户端。单击已连接任意客户端，可将该客户端位置设置为上报给原服务器的基准位置（不会随客户端位置移动而改变）。

     
 **二、	TCP/IP差分数据分享** 

实现自有差分基准站，且差分基准站数据通过TCP/IP协议开放，APP通过TCP/IP获取差分数据，并进行转发共享。注意多台RTK需要在统一作业区域内作业，建议不超过30公里，具体可视现场情况而定。
 
具体操作步骤如下:

- 1、	点击设置功能菜单。
- 2、	选择数据协议为TCP/IP
- 3、	输入服务器IP（原账号服务器）
- 4、	输入服务器端口（原账号服务器端口）
- 5、	设置共享信息,包括共享用户名，共享密码、共享距离（超出该范围也可获得差分数据），客户端连接数限制（暂未开启）。
- 6、	点击底部地图功能标签，返回主界面，点击启动按钮，完成启动共享，系统将自动弹出共享信息。
- 7、	按照弹出的共享信息设置RTK差分数据源，连接获取差分数据。
- 8、	切换至客户端界面，查看已连接客户端。


   
 **三、	蓝牙差分数据分享（Pro功能）** 

实现自有差分基准站，且差分基准站支持蓝牙输出差分数据，APP通过蓝牙获取差分数据，并进行转发共享。注意多台RTK需要在统一作业区域内作业，建议不超过30公里，具体可视现场情况而定。
 
具体操作步骤如下:

- 1、	点击设置功能菜单。
- 2、	选择数据协议为蓝牙
- 3、	在弹出蓝牙扫描界面，点击进行扫描，发现基准站蓝牙设备。
- 4、	单击选定基准站设备，进行配对连接（配对密码一般为1234或1111，可咨询厂家）。
- 5、	设置共享信息,包括共享用户名，共享密码、共享距离（超出该范围也可获得差分数据），客户端连接数限制（暂未开启）。
- 6、	点击底部地图功能标签，返回主界面，点击启动按钮，完成启动共享，系统将自动弹出共享信息。
- 7、	按照弹出的共享信息设置RTK差分数据源，连接获取差分数据。
- 8、	切换至客户端界面，查看已连接客户端。


    
 **四、	USB OTG差分数据分享（Pro功能）** 

实现自有差分基准站，且差分基准站支持USB输出差分数据，APP通过OTG获取差分数据（需要转接线），并进行转发共享。注意多台RTK需要在统一作业区域内作业，建议不超过30公里，具体可视现场情况而定。
 
具体操作步骤如下:

- 1、	点击设置功能菜单。
- 2、	选择数据协议为USB OTG。
- 3、	设置OTG波特率。
- 4、	将基准站设备通过USB与android OTG端口进行连接，APP会自动弹出与OTG设备进行连接。
- 5、	设置共享信息,包括共享用户名，共享密码、共享距离（超出该范围也可获得差分数据），客户端连接数限制（暂未开启）。
- 6、	点击底部地图功能标签，返回主界面，点击启动按钮，完成启动共享，系统将自动弹出共享信息。
- 7、	按照弹出的共享信息设置RTK差分数据源，连接获取差分数据。
- 8、	切换至客户端界面，查看已连接客户端。


   
 **五、	Ntrip组网（Pro功能）** 

实现对个自有差分账号数据，分别设置固定坐标位置，获取基准站差分数据，当客户端进行连接时，将最近的差分账号差分数据发送给RTK客户端。注意RTK需要在组网覆盖范围内作业，且每个节点覆盖范围建议不超过30公里，具体可视现场情况而定。
具体操作步骤如下:

- 1、	点击设置功能菜单。
- 2、	选择数据协议为Ntrip 组网
- 3、	点击左上角功能按钮切换至Ntrip组网管理界面。
- 4、	点击添加节点按钮，弹出添加节点功能按钮。
- 5、	输入服务器IP、器端口、账号用户名、密码，选择对应接入点，选择上报位置坐标。
- 6、	添加多个Ntrip节点。
- 7、	返回设置功能菜单。
- 8、	设置共享信息,包括共享用户名，共享密码、共享距离（超出该范围也可获得差分数据），客户端连接数限制（暂未开启）。
- 9、	点击底部地图功能标签，返回主界面，点击启动按钮，完成启动共享，系统将自动弹出共享信息。
- 10、	按照弹出的共享信息设置RTK差分数据源，连接获取差分数据。
- 11、	切换至客户端界面，查看已连接客户端。

 
 
 **六、	多用户管理（Pro功能）** 

实现对客户端登录的自定义用户管理，单独设置用户名、密码及过期时间。具体操作步骤如下:

- 1、	点击设置功能菜单。
- 2、	勾选多用户管理（勾选后，设置界面的共享用户将无效）。
- 3、	点击左上角功能按钮切换至用户管理界面。
- 4、	点击添加用户按钮，弹出添加用户功能按钮。
- 5、	输入账号用户名、密码，过期时间。
- 6、	启动后需要按照用户管理中存在的用户进行登录，注意不可重复登录，用户过期时间已经达到的将不能登录。

    

 **七、	客户端剔除** 

系统支持对长时间不上传GGA的客户端进行自动下线处理功能，客户端长时间不上传GGA的原因可能是客户端已掉线或虚假客户端连接。

- 1、	点击设置功能菜单。
- 2、	勾选客户端上传GGA。
- 3、	在共享设置中设置客户端剔除时间，即客户端多长时间不上传GGA就进行下线处理。

欢迎交流:
 VX:ntripshare
 QQ:273066127
 Email:giserpeng@163.com

#### 参与贡献

1.  Fork 本仓库
2.  新建 Feat_xxx 分支
3.  提交代码
4.  新建 Pull Request


#### 特技

1.  使用 Readme\_XXX.md 来支持不同的语言，例如 Readme\_en.md, Readme\_zh.md
2.  Gitee 官方博客 [blog.gitee.com](https://blog.gitee.com)
3.  你可以 [https://gitee.com/explore](https://gitee.com/explore) 这个地址来了解 Gitee 上的优秀开源项目
4.  [GVP](https://gitee.com/gvp) 全称是 Gitee 最有价值开源项目，是综合评定出的优秀开源项目
5.  Gitee 官方提供的使用手册 [https://gitee.com/help](https://gitee.com/help)
6.  Gitee 封面人物是一档用来展示 Gitee 会员风采的栏目 [https://gitee.com/gitee-stars/](https://gitee.com/gitee-stars/)
